<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="16x16" href="../../img/icon.png" />
    <title>STAV - Aide</title>

    <link rel="stylesheet" href="../../css/bulma1.min.css" />
    <link rel="stylesheet" href="../../css/stav.css" />
  </head>

  <body>
    <div id="header"></div>

    <section class="section">
      <div class="container">
        <h1 class="title is-3">Aide</h1>
        <p class="subtitle is-5">
          Guide d'utilisation du STAV : SensorThing API Viewer
        </p>

        <div class="aide-accordion">
          <details open>
            <summary>Qu'est-ce que le STAV ?</summary>
            <div class="aide-content">
              <p>
                Le STAV (<strong>SensorThings API Viewer</strong>) permet de
                visualiser, comprendre et exporter des données environnementales
                issues de services les diffusants en sensorThing.
              </p>
              <p>Avec Le STAV vous pouvez :</p>
              <ul>
                <li>
                  <strong>Localiser</strong> les points de mesure sur une carte
                  interactive
                </li>
                <li>
                  <strong>Visualiser</strong> les observations sous forme de
                  graphiques
                </li>
                <li>
                  <strong>Télécharger</strong> les observations au format CSV
                </li>
                <li>
                  <strong>Partager</strong> un contexte spécifique avec un lien
                </li>
                <li>
                  <strong>Comparer</strong> plusieurs séries de données sur un
                  même graphique
                </li>
              </ul>
              <div class="aide-screenshot">
                Capture d'écran : vue d'ensemble de l'application
              </div>
            </div>
          </details>

          <details>
            <summary>Naviguer dans le STAV</summary>
            <div class="aide-content">
              <p>
                Le STAV est organisé en plusieurs pages accessibles depuis la
                barre de navigation :
              </p>

              <h4 class="title is-5">
                Point d'entré (liste des observatoires disponible)
              </h4>
              <p>
                La page d'accueil affiche la liste de tous les observatoires
                disponibles.
              </p>
              <div class="aide-screenshot">
                Capture d'écran : page d'accueil avec les observatoires
              </div>

              <h4 class="title is-5">Page d'accueil</h4>
              <p>
                Cette page présente un résumé de l'observatoire : emplacement
                des points de mesure, informations diverses (nombre de capteurs,
                propriétés observées, plage temporelle).
              </p>
              <div class="aide-screenshot">
                Capture d'écran : page découverte d'un observatoire
              </div>

              <h4 class="title is-5">Description des points de mesure</h4>
              <p>
                Permet de parcourir la liste des points de mesure (avec
                éventuellement des photos). Cette page permet d'acceder à un
                point de mesure et fournir plus d'informations (nombre de
                capteurs, propriétés observées, plage temporelle, lien de
                visualisation).
              </p>
              <div class="aide-screenshot">
                Capture d'écran : page points de mesure
              </div>

              <h4 class="title is-5">Accès aux données</h4>
              <p>
                C'est la page principale de visualisation. Elle permet de
                sélectionner une ou plusieurs séries de données et de les
                afficher sous forme de graphique interactif. Vous pouvez zoomer,
                télécharger les données et partager votre contexte.
              </p>
              <div class="aide-screenshot">
                Capture d'écran : page accès aux données
              </div>

              <h4 class="title is-5">Métadonnée (optionel)</h4>
              <p>Ce menu donne accès à une fiche de métadonnée.</p>
              <p>
                <em
                  >Note : ce menu n'apparaît que si l'observatoire a fourni une
                  fiche de métadonnée.</em
                >
              </p>

              <h4 class="title is-5">Métrologie (optionel)</h4>
              <p>
                Ce menu déroulant donne accès aux outils de suivi technique
                destinés aux métrologues:
              </p>
              <ul>
                <li>
                  <strong>Suivi des capteurs</strong> : état et historique des
                  capteurs
                </li>
                <li>
                  <strong>Suivi des interventions terrain</strong> : journal des
                  interventions
                </li>
                <li>
                  <strong>Alerte</strong> : mise en évidence des séries
                  temporelles avec des données aberrantes ou manquantes
                </li>
              </ul>
              <p>
                <em
                  >Note : ce menu n'apparaît que si l'observatoire a activé le
                  suivi métrologique.</em
                >
              </p>
            </div>
          </details>

          <details>
            <summary>Utiliser les graphiques</summary>
            <div class="aide-content">
              <h4 class="title is-5">Zoomer sur une période</h4>
              <p>
                <strong>Cliquez et glissez</strong> horizontalement sur le
                graphique pour zoomer sur une période précise. Le graphique se
                redessine avec les données de la plage sélectionnée.
              </p>
              <p>
                Pour certains observatoires, le niveau de détail s'adapte
                automatiquement au zoom et à la taille de l'écran : les données
                passent d'une agrégation journalière à horaire, puis aux valeurs
                brutes lorsque la fenêtre est suffisamment réduite.
              </p>
              <div class="aide-screenshot">
                Capture d'écran : zoom sur un graphique
              </div>

              <h4 class="title is-5">Revenir à la vue complète</h4>
              <p>
                Cliquez sur le bouton <strong>"Dézommer"</strong> pour revenir à
                l'affichage de l'ensemble des données. Ce bouton apparaît
                uniquement lorsqu'un zoom est actif.
              </p>

              <h4 class="title is-5">Superposer plusieurs séries</h4>
              <p>
                Sur la page <strong>"Accès aux données"</strong>, cochez
                plusieurs séries dans la liste de gauche. Les courbes se
                superposent sur le même graphique avec une légende pour chaque
                série.
              </p>
              <div class="aide-screenshot">
                Capture d'écran : graphique avec plusieurs séries superposées
              </div>

              <h4 class="title is-5">Navigation par pages</h4>
              <p>
                Lorsqu'un jeu de données est très volumineux et que les
                aggrégations ne sont pas disponibles, les données sont découpées
                en pages. Des flèches
                <strong>&#9664; page &#9654;</strong> apparaissent au dessus du
                graphique. Cliquez sur les flèches pour naviguer, ou cliquez sur
                l'indicateur de page pour saisir directement un numéro de page.
              </p>
            </div>
          </details>

          <details>
            <summary>Télécharger des données</summary>
            <div class="aide-content">
              <p>
                Cliquez sur le bouton <strong>"Téléchargement"</strong> pour
                ouvrir la fenêtre d'export. Plusieurs options sont disponibles
                selon le type d'observatoire :
              </p>
              <ul>
                <li>
                  <strong>Toutes les données (CSV brut)</strong> : exporte
                  l'intégralité des observations
                </li>
                <li>
                  <strong>Plage visible (CSV brut)</strong> : exporte uniquement
                  la période affichée dans le graphique
                </li>
                <li>
                  <strong>Agrégation horaire</strong> : moyenne des valeurs par
                  heure (si disponible)
                </li>
                <li>
                  <strong>Agrégation journalière</strong> : moyenne des valeurs
                  par jour (si disponible)
                </li>
              </ul>
              <div class="aide-screenshot">
                Capture d'écran : fenêtre de téléchargement
              </div>
            </div>
          </details>

          <details>
            <summary>Partager un contexte</summary>
            <div class="aide-content">
              <p>
                Cliquez sur le bouton <strong>"Partager"</strong> pour copier
                dans le presse-papier un lien qui reproduit exactement le
                contexte de visualisation des ou du graphique pour :
              </p>
              <ul>
                <li>Les séries sélectionnées</li>
                <li>Le niveau de zoom (si actif)</li>
                <li>La page en cours (si pagination active)</li>
              </ul>
              <p>
                Envoyez ce lien à un collègue : en l'ouvrant, il retrouvera la
                même configuration d'affichage. Le lien est autonome et ne
                nécessite aucune connexion particulière.
              </p>
            </div>
          </details>

          <details>
            <summary>Glossaire</summary>
            <div class="aide-content">
              <table class="table is-striped is-fullwidth">
                <thead>
                  <tr>
                    <th>Terme</th>
                    <th>Définition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>Observatoire</strong></td>
                    <td>
                      Ensemble de capteurs déployés sur un site géographique
                      disponible dans un service SensorThing. Un observatoire
                      regroupe un ou plusieurs points de mesure.
                    </td>
                  </tr>
                  <tr>
                    <td><strong>Point de mesure</strong></td>
                    <td>
                      Emplacement physique où sont installés un ou plusieurs
                      capteurs ( <em>Thing</em> dans le standard SensorThings).
                    </td>
                  </tr>
                  <tr>
                    <td><strong>Propriété observée</strong></td>
                    <td>
                      Grandeur physique mesurée par un capteur : température,
                      débit, pH, conductivité, etc. (<em>ObservedProperty</em>)
                    </td>
                  </tr>
                  <tr>
                    <td><strong>Capteur</strong></td>
                    <td>Instrument de mesure (<em>Sensor</em>)</td>
                  </tr>
                  <tr>
                    <td><strong>Série de données</strong></td>
                    <td>
                      Série temporelle (<em>Datastream</em>) pour une propriété
                      observée (<em>ObservedProperty</em>) sur un point de
                      mesure par un capteur (<em>Sensor</em>). Exemple :
                      "Température de l'eau au point A".
                    </td>
                  </tr>
                  <tr>
                    <td><strong>Observation</strong></td>
                    <td>
                      Valeur individuelle mesurée à un instant donné. Composée
                      d'une date et d'un résultat numérique.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </details>
        </div>
      </div>
    </section>

    <script type="module" src="../../js/aide.js"></script>
  </body>
</html>
